<!DOCTYPE html>
<html>
<head>
  <title>Node JS Copter Demo - Viewer</title>
  <script src="nodecopter-client.js"></script>
  <script src="jquery.min.js"></script>
  <script>
    $(function () {

      function startArDRoneStream() {
        new NodecopterStream(document.getElementById("placeholder"), {port: 3001});
      }
      startArDRoneStream();
    })
  </script>
  <style>
    tbody{
      width:80%;
    }
    canvas{
      width: 100%;
    }
    table{
      width:90%;
    }
    td {
      border:1px solid black;
      border-radius:10px;
      padding:10px;
    }
    button{
      font-size: 10pt;
    }
    #battery{
      border:1px solid black;
      width:90%;
      height:20px;
      text-align: center;
    }
    .bar {
      margin: 5px 0 3px;
      border: 6px solid #333;
      background: #333;
      overflow: hidden;
      border-radius: 50px;
      -moz-border-radius: 50px;
      -webkit-border-radius: 50px;
      box-shadow: 1px 1px 1px #777;
      -moz-box-shadow: 1px 1px 1px #777;
      -webkit-box-shadow: 1px 1px 1px #777;
    }
    .bar > span {
      display: block;
      height: 20px;
      border-radius: 5px;
      -moz-border-radius: 5px;
      -webkit-border-radius: 5px;
    }

    .color0 > span {
      background-color: #FF0000;
    }
  </style>
</head>

<body>
<h1>Ar Drone Demo - View Mode</h1>
<table>
  <tr>
    <td>
      <button type="button" onclick="wsavc.playStream()">Start Video</button>
      <button type="button" onclick="wsavc.stopStream()">Stop Video</button>
      <button type="button" onclick="wsavc.disconnect()">Disconnect</button>

    </td>
  </tr>
  <tr>
    <td>
      <!--            <h1>Ar Drone Video Feed</h1>-->
      <div id="placeholder"></div>
    </td>
    <td>
      <div id="controls">
        <h1>Drone Controls</h1>
        <h2>Buttons</h2>
        <div>A = Upwards</div>
        <div>B = Downwards</div>
        <div>X = Start Recording<div>
          <div>Y = Stop Recording<div>
            <div>Left Stick<div>
              <div>Right Stick<div>
                <div>START = Take Off<div>
                  <div>SELECT = Land<div>
                    <div>LB = No Binding<div>
                      <div>RB = Emergency Landing<div>
                        <div>LT = No Binding</div>
                        <div>RT = No Binding</div>
                        <h2>D - Pad</h2>
                        <div>Up = Forwards<div>
                          <div>Down = Backwards<div>
                            <div>Left = Turn Left<div>
                              <div>Right = Turn Right<div>
                              </div>
    </td>
  </tr>
</table>
<script type="text/javascript" src="http-live-player.js">;</script>
<script type="text/javascript">

  /**
   * Controls for video playback
   */

  var canvas = document.createElement("canvas");
  // document.body.appendChild(canvas);
  document.getElementById("placeholder").appendChild(canvas);

  // Create h264 player
  var uri = "ws://" + document.location.host;
  var wsavc = new WSAvcPlayer(canvas, "webgl", 1, 35);
  wsavc.connect(uri);


  //expose instance for button callbacks
  window.wsavc = wsavc;

</script>
</body>
</html>